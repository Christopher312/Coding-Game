<html>
<head>
    <title>cod√©mon-problems</title>
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-theme.min.css') }}">
</head>
<body>
    <div class="container">
        <h1>Problems page</h1>
        <p>Write a program that takes in 1 argument "a" and returns "a" doubled</p><!--TODO: Make this actually good.-->
        <p> function double(a) {</p>
        <textarea id="source" rows="10" cols="100" placeholder="Enter code in JavaScript here"></textarea><br/>
        <p>}</p>
        <button id="submit-btn" class="btn btn-lg btn-success">Submit Code</button>
    </div>
    <script type="text/javascript">
        var cases = [1, 3, 8]
        var results = []
        $("#submit-btn").click(function(){
            eval("results = cases.map(function(a){" + $("#source").val() + "})")
            resuls = results.map(toString)
            console.log(results)
            $.ajax({
                url: '/_problem',
                type: 'POST',
                data:JSON.stringify({
                    "results": results
                    }),        
                contentType: 'application/json;charset=UTF-8',
            });
        });
      
    </script>
</body>
</html>